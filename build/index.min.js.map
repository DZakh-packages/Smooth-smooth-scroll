{"version":3,"file":"index.min.js","sources":["../src/index.js"],"sourcesContent":["export const initSmoothScroll = ({\r\n  offsetTop = 0,\r\n  offsetBottom = 0,\r\n  offsetLeft = 0,\r\n  offsetRight = 0,\r\n  block = 'start',\r\n  inline = 'nearest',\r\n  eventListenerOptions = {},\r\n} = {}) => {\r\n  const scrollIntoElView = (el, scrollOptions) => {\r\n    el.scrollIntoView(scrollOptions);\r\n  };\r\n\r\n  const smoothScroll = e => {\r\n    const linkEl = e.target.closest('[data-smooth-scroll-to]');\r\n\r\n    if (!linkEl) {\r\n      return;\r\n    }\r\n\r\n    const destinationEl = document.getElementById(linkEl.dataset.smoothScrollTo);\r\n\r\n    if (destinationEl === null) {\r\n      throw new Error('Destination element not found.');\r\n    }\r\n\r\n    const scrollOptions = {\r\n      block: linkEl.dataset.smoothScrollBlock || block,\r\n      inline: linkEl.dataset.smoothScrollInline || inline,\r\n      behavior: 'smooth',\r\n    };\r\n\r\n    const isVerticalOffset = offsetTop || offsetBottom;\r\n    const isHorizontalOffset = offsetLeft || offsetRight;\r\n\r\n    if (isVerticalOffset || isHorizontalOffset) {\r\n      const existingAnchorEl = [...destinationEl.children].find(el =>\r\n        el.matches('.js-smooth-scroll-anchor')\r\n      );\r\n\r\n      const anchorEl = existingAnchorEl || document.createElement('div');\r\n\r\n      if (!existingAnchorEl) {\r\n        destinationEl.setAttribute('style', 'position: relative;');\r\n\r\n        const defaultStyles = `position:absolute;z-index:-1;`;\r\n        // prettier-ignore\r\n        const verticalStyles = isVerticalOffset ? `height:calc(100% + ${offsetTop + offsetBottom}px);${offsetTop ? `top:-${offsetTop}px;` : ''}` : `height:100%;`;\r\n        // prettier-ignore\r\n        const horizontalStyles = isHorizontalOffset ? `width:calc(100% + ${offsetLeft + offsetRight}px);${offsetLeft ? `left:-${offsetLeft}px;` : ''}` : `width:100%;`;\r\n\r\n        const anchorStyles = defaultStyles + verticalStyles + horizontalStyles;\r\n\r\n        anchorEl.setAttribute('style', anchorStyles);\r\n        anchorEl.setAttribute('class', 'js-smooth-scroll-anchor');\r\n\r\n        destinationEl.insertAdjacentElement('afterbegin', anchorEl);\r\n      }\r\n\r\n      scrollIntoElView(anchorEl, scrollOptions);\r\n    } else {\r\n      scrollIntoElView(destinationEl, scrollOptions);\r\n    }\r\n  };\r\n\r\n  document.addEventListener('click', smoothScroll, eventListenerOptions);\r\n\r\n  return () => {\r\n    document.removeEventListener('click', smoothScroll, eventListenerOptions);\r\n\r\n    const anchorEls = [...document.querySelectorAll('.js-smooth-scroll-anchor')];\r\n    anchorEls.forEach(anchor => anchor.parentNode.removeChild(anchor));\r\n  };\r\n};\r\n"],"names":["offsetTop","offsetBottom","offsetLeft","offsetRight","block","inline","eventListenerOptions","scrollIntoElView","el","scrollOptions","scrollIntoView","smoothScroll","e","linkEl","target","closest","destinationEl","document","getElementById","dataset","smoothScrollTo","Error","smoothScrollBlock","smoothScrollInline","behavior","isVerticalOffset","isHorizontalOffset","existingAnchorEl","children","find","matches","anchorEl","createElement","setAttribute","anchorStyles","insertAdjacentElement","addEventListener","removeEventListener","querySelectorAll","forEach","anchor","parentNode","removeChild"],"mappings":"wOAAgC,EAC9BA,UAAAA,EAAY,EACZC,aAAAA,EAAe,EACfC,WAAAA,EAAa,EACbC,YAAAA,EAAc,EACdC,MAAAA,EAAQ,QACRC,OAAAA,EAAS,UACTC,qBAAAA,EAAuB,IACrB,YACIC,EAAmB,CAACC,EAAIC,KAC5BD,EAAGE,eAAeD,IAGdE,EAAeC,UACbC,EAASD,EAAEE,OAAOC,QAAQ,+BAE3BF,eAICG,EAAgBC,SAASC,eAAeL,EAAOM,QAAQC,mBAEvC,OAAlBJ,QACI,IAAIK,MAAM,wCAGZZ,EAAgB,CACpBL,MAAOS,EAAOM,QAAQG,mBAAqBlB,EAC3CC,OAAQQ,EAAOM,QAAQI,oBAAsBlB,EAC7CmB,SAAU,UAGNC,EAAmBzB,GAAaC,EAChCyB,EAAqBxB,GAAcC,KAErCsB,GAAoBC,EAAoB,OACpCC,EAAmB,IAAIX,EAAcY,UAAUC,KAAKrB,GACxDA,EAAGsB,QAAQ,6BAGPC,EAAWJ,GAAoBV,SAASe,cAAc,WAEvDL,EAAkB,CACrBX,EAAciB,aAAa,QAAS,6BAQ9BC,EANiB,iCAEAT,EAAoB,sBAAqBzB,EAAYC,QAAmBD,EAAa,QAAOA,OAAiB,KAAQ,iBAEnH0B,EAAsB,qBAAoBxB,EAAaC,QAAkBD,EAAc,SAAQA,OAAkB,KAAQ,eAIlJ6B,EAASE,aAAa,QAASC,GAC/BH,EAASE,aAAa,QAAS,2BAE/BjB,EAAcmB,sBAAsB,aAAcJ,GAGpDxB,EAAiBwB,EAAUtB,QAE3BF,EAAiBS,EAAeP,WAIpCQ,SAASmB,iBAAiB,QAASzB,EAAcL,GAE1C,KACLW,SAASoB,oBAAoB,QAAS1B,EAAcL,GAElC,IAAIW,SAASqB,iBAAiB,6BACtCC,QAAQC,GAAUA,EAAOC,WAAWC,YAAYF"}